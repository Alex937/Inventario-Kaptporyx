<!DOCTYPE html>
<html lang="es">
<head>
    <script>
        const usuarioActivo = sessionStorage.getItem("usuarioActivo");
        if (!usuarioActivo) {
            window.location.href = "login.html";
        }
    </script>
    <meta charset="UTF-8">
    <title>Dashboard - Inventario</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header style="display: flex; justify-content: space-between; align-items: center; background-color: #121212; padding: 1em;">
        <div style="height: 60px; overflow: hidden; display: flex; align-items: center;">
            <img src="images/KAPTORYX.png" alt="KAPTORYX" style="height: 270px;">
        </div>
        <div style="display: flex; align-items: center; gap: 1em;">
            <nav>
                <a href="index.html">Dashboard</a>
                <a href="inventario.html">Inventario</a>
                <a href="entradas.html">Entradas</a>
                <a href="salidas.html">Salidas</a>
                <a href="nuevos.html">Nuevos</a>
                <a href="recuperados.html">Recuperado</a>
                <a href="malos.html">Malos</a>
                <a href="obsoletos.html">Obsoletos</a>
            </nav>
            <div style="display: flex; align-items: center; gap: 10px;">
                <span id="usuarioBienvenido" style="font-size: 0.9em; color: #ccc;"></span>
                <button onclick="cerrarSesion()" style="padding: 6px 12px; background-color: #e74c3c; color: white; border: none; border-radius: 5px; cursor: pointer;">
                    Cerrar sesión
                </button>
            </div>
        </div>
    </header>
    <main>
        <section class="busqueda-inventario" style="margin-top: 2em;">
            <h2>Búsqueda en Inventario</h2>
            <div style="display: flex; gap: 10px; margin-bottom: 1em;">
                <input type="text" id="busquedaInput" placeholder="Buscar por número de parte, descripción, estado o ubicación" style="flex: 1; padding: 12px; font-size: 1em; border-radius: 8px; border: 1px solid #ccc;">
                <button onclick="buscarInventario()" style="padding: 12px; background-color: #2c3e50; color: white; border: none; border-radius: 8px; cursor: pointer;">Buscar</button>
            </div>
            <div style="overflow-x: auto;">
                <table class="tabla-inventario" id="tablaBusqueda" style="display: none;">
                    <thead>
                        <tr>
                            <th>N° Parte</th>
                            <th>Descripción</th>
                            <th>Cantidad</th>
                            <th>Estado</th>
                            <th>Ubicación</th>
                        </tr>
                    </thead>
                    <tbody id="resultadosBusqueda">
                        <!-- Resultados se insertan aquí -->
                    </tbody>
                </table>
            </div>
        </section>
        <h3>Productos en Bajo Stock</h3>
        <table class="tabla-inventario" id="tabla-bajo-stock">
            <thead>
                <tr>
                    <th>Código</th>
                    <th>Descripción</th>
                    <th>Cantidad</th>
                </tr>
            </thead>
            <tbody>
                <!-- Aquí se insertarán los productos -->
                </tbody>
            </table>
            <h2>Estadísticas por Estado</h2>
            <canvas id="graficaInventario" width="300" height="300" style="max-width: 100%;"></canvas>
        </div>
        <div>
            <h2>Resumen General</h2>
            <div class="tarjeta">
                <p id="totalProductos">Total productos: 0</p>
            </div>
    </main>
    <footer>
        <p>&copy; 2025 - Alexander Mora v3.0 </p>
        </footer>
        <script src="js/script.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </body>
    </html>


